(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{600:function(s,n,t){"use strict";t.r(n);var e=t(10),a=Object(e.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"四、行为事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、行为事件"}},[s._v("#")]),s._v(" 四、行为事件")]),s._v(" "),t("blockquote",[t("p",[s._v("思考问题：")]),s._v(" "),t("p",[s._v("如何在组件间进行数据传递？")]),s._v(" "),t("p",[s._v("如何确认当前哪个todo及与之绑定menu是当前激活的？")])]),s._v(" "),t("h2",{attrs:{id:"menu、todo数据联动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#menu、todo数据联动"}},[s._v("#")]),s._v(" menu、todo数据联动")]),s._v(" "),t("h2",{attrs:{id:"vuex使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vuex使用"}},[s._v("#")]),s._v(" vuex使用")]),s._v(" "),t("h3",{attrs:{id:"src-store-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#src-store-js"}},[s._v("#")]),s._v(" src/store.js")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("state: {\n        todoList: [\n            {\n                id: 'todo-1',  //单条待办项唯一标示\n                title: '第一条代办事项', // 标题\n                count: 10,  // 未完成待办项数目\n                isDelete: false, // 是否删除(物理删除)\n                locked: false, // 是否锁定\n                record: [  // 代办项纪录列表\n                    {\n                        text: '第1条代办单项',  // 文字内容\n                        isDelete: false, // 是否删除(物理删除)\n                        checked: false // 是否完成\n                    },\n                    {\n                        text: '第2条代办单项',  // 文字内容\n                        isDelete: false, // 是否删除(物理删除)\n                        checked: false // 是否完成\n                    }\n                ]\n            },\n            ...\n        ],\n        record: [  // 代办项纪录列表\n        ]\n    },\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br")])]),t("h3",{attrs:{id:"src-components-menus-vue"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#src-components-menus-vue"}},[s._v("#")]),s._v(" src/components/Menus.vue")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("computed: {\n    // ...mapState([\n    //     'todoList'\n    // ]),\n    ...mapState({\n        todoList: state => state.todoList,\n        // activeTodoId: state => state.activeTodoId\n    }),\n    activeTodoId: {\n        get: function() {\n            return this.$store.state.activeTodoId\n        },\n        set: function(value) {\n            // this.setActiveTodoId(value)\n            this.$store.commit('setActiveTodoId',value)\n        }\n    }\n\n\n    // todoList: {\n    //     get: function() {\n    //         return this.$store.state.todoList;\n    //     },\n    //     set: function(value) {\n    //         this.setValue(value);\n    //     }\n    // },\n},\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br")])]),t("h3",{attrs:{id:"src-components-todo-vue"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#src-components-todo-vue"}},[s._v("#")]),s._v(" src/components/Todo.vue")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("//computed\ncomputed: {\n    activeTodoId: {\n        get: function() {\n            return this.$store.state.activeTodoId;\n        },\n    },\n    record: {\n        get: function() {\n            return this.$store.state.record;\n        },\n        set: function(value){\n            this.setRecord(value)\n            // this.$store.commit('setRecord',value)\n        }\n    }\n},\n\n//method\nmethods: {\n    // 当用户点击回车时候 ，给items的值新增一个对象，this.text 即输入框绑定的值\n    onAdd() {\n        this.items.push({\n            checked: false,\n            text: this.text,\n            isDelete: false\n        });\n        //初始化输入框的值。\n        this.text = \"\";\n    },\n    init() {\n        this.todo = this.$store.state.todoList.find(i => i.id == this.activeTodoId)\n        this.record = this.todo.record\n    },\n    ...mapMutations([\n        'setRecord'\n    ])\n},\n\n//created\ncreated(){\n    this.todo = this.$store.state.todoList.find(i => i.id == this.todoId)\n    this.items = this.todo.record\n}\n\n// watch\nwatch: {\n    activeTodoId: function() {\n        this.init()\n    }\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br")])]),t("h2",{attrs:{id:"点击menu事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#点击menu事件"}},[s._v("#")]),s._v(" 点击menu事件")]),s._v(" "),t("h3",{attrs:{id:"src-components-menus-vue-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#src-components-menus-vue-2"}},[s._v("#")]),s._v(" src/components/Menus.vue")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('<a @click="clickMenu(item.id)" class="list-todo list activeListClass" v-for="item in todoList" v-bind:key="item.index">\n\nmethods: {\n    clickMenu(id) {\n        this.activeTodoId = id\n    }\n}\n\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"menu激活状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#menu激活状态"}},[s._v("#")]),s._v(" menu激活状态")]),s._v(" "),t("h3",{attrs:{id:"src-components-menus-vue-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#src-components-menus-vue-3"}},[s._v("#")]),s._v(" src/components/Menus.vue")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('<a @click="clickMenu(item.id)" class="list-todo list activeListClass" :class="{\'active\': item.id === activeTodoId}" v-for="item in todoList" v-bind:key="item.index">\n\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"新增menu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#新增menu"}},[s._v("#")]),s._v(" 新增menu")]),s._v(" "),t("h3",{attrs:{id:"src-components-menus-vue-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#src-components-menus-vue-4"}},[s._v("#")]),s._v(" src/components/Menus.vue")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("methods: {\n    ...mapMutations([\n        'addTodo'\n    ]),\n    addTodoList() {\n        this.addTodo({\n            id: 'todo-undifine',  //单条待办项唯一标示\n            title: '未命名', // 标题\n            count: 0,  // 未完成待办项数目\n            isDelete: false, // 是否删除(物理删除)\n            locked: false, // 是否锁定\n            record: []\n        });\n        this.activeTodoId = 'todo-undifine'\n    }\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("h2",{attrs:{id:"todo修改title"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#todo修改title"}},[s._v("#")]),s._v(" todo修改title")]),s._v(" "),t("h3",{attrs:{id:"src-components-todo-vue-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#src-components-todo-vue-2"}},[s._v("#")]),s._v(" src/components/Todo.vue")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('<div class="form list-edit-form" v-show="isUpdate">\n    \x3c!-- 当用户点击标题进入修改状态，就显示当前内容可以修改 --\x3e\n    <input type="text" v-model="todo.title" @keyup.enter="updateTitle">\n</div>\n<h1 class="title-page" v-show="!isUpdate" @click="isUpdate = true">\n    <span class="title-wrapper">{{todo.title}}</span>\n    <span class="count-list">{{todo.count}}</span>\n</h1>\n\ndata() {\n    isUpdate: false\n};\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h2",{attrs:{id:"todo删除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#todo删除"}},[s._v("#")]),s._v(" todo删除")]),s._v(" "),t("h3",{attrs:{id:"src-components-todo-vue-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#src-components-todo-vue-3"}},[s._v("#")]),s._v(" src/components/Todo.vue")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('<a class=" nav-item">\n    \x3c!-- 删除图标--\x3e\n    <span class="icon-trash" @click="deleteTodo"></span>\n</a>\n\ndeleteTodo(){\n    for (let i in this.todoList) {\n        if(this.todoList[i].id === this.activeTodoId){\n            this.todoList.splice(i,1)\n        }\n    }\n    if(this.todoList.length > 0){\n        this.activeTodoId = this.todoList[0].id\n        this.init\n    }else{\n        this.todo = {\n            title: \'未命名\',\n            count: 0\n        }\n        this.addTodo(this.todo)\n        this.record = []\n    }\n},\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("h2",{attrs:{id:"新增record"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#新增record"}},[s._v("#")]),s._v(" 新增record")]),s._v(" "),t("h3",{attrs:{id:"src-components-todo-vue-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#src-components-todo-vue-4"}},[s._v("#")]),s._v(" src/components/Todo.vue")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('<input type="text" v-model="text" placeholder=\'请输入\' @keyup.enter="onAdd" :disabled="todo.locked" />\n\nonAdd() {\n    this.record.push({\n        checked: false,\n        text: this.text,\n        isDelete: false\n    });\n    //初始化输入框的值。\n    this.text = "";\n},\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h2",{attrs:{id:"删除-修改record"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除-修改record"}},[s._v("#")]),s._v(" 删除/修改record")]),s._v(" "),t("h3",{attrs:{id:"src-components-item-vue"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#src-components-item-vue"}},[s._v("#")]),s._v(" src/components/Item.vue")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('\n<input type="text"  autofocus v-model.lazy="item.text" placeholder=\'写点什么。。。\'  @change="onChange"   :disabled=" item.checked || locked" >\n\ndeleteRecord(){\n    this.$emit(\'deleteRecordEvent\',this.item)\n},\nonChange(){\n    this.$emit(\'editRecordEvent\',this.item)\n},\n\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"src-components-todo-vue-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#src-components-todo-vue-5"}},[s._v("#")]),s._v(" src/components/Todo.vue")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("deleteRecord(item){\n    // console.log(item)\n    for (let i in this.record) {\n        if(this.record[i].id === item.id){\n            this.record.splice(i,1)\n        }\n    }\n},\neditRecord(item) {\n    // console.log(item)\n    for (let i in this.record) {\n        if(this.record[i].id === item.id){\n            this.record[i].text = item.text\n        }\n    }\n},\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("h2",{attrs:{id:"todo锁定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#todo锁定"}},[s._v("#")]),s._v(" todo锁定")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('<a class=" nav-item" @click="onLock">\n    \x3c!-- 锁定图标--\x3e\n    <span class="icon-lock" v-if="todo.locked"></span>\n    <span class="icon-unlock" v-else></span>\n</a>\n\nonLock(){\n    this.todo.locked = !this.todo.locked\n},\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("锁定后需要对todo、record的修改进行限制")]),s._v(" "),t("h3",{attrs:{id:"限制todo标题修改"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#限制todo标题修改"}},[s._v("#")]),s._v(" 限制todo标题修改")]),s._v(" "),t("h4",{attrs:{id:"src-components-todo-vue-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#src-components-todo-vue-6"}},[s._v("#")]),s._v(" src/components/Todo.vue")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("updateTitle() {\n    if(!this.todo.locked){\n    this.isUpdate = true\n    }\n},\nfinishUpdateTitle(){\n    this.isUpdate = false\n},\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"todo标题初始化非编辑状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#todo标题初始化非编辑状态"}},[s._v("#")]),s._v(" todo标题初始化非编辑状态")]),s._v(" "),t("h4",{attrs:{id:"src-components-todo-vue-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#src-components-todo-vue-7"}},[s._v("#")]),s._v(" src/components/Todo.vue")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("init() {\n    this.todo = this.todoList.find(i => i.id == this.activeTodoId)\n    this.record = this.todo.record\n    this.isUpdate = false\n},\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"record新增"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#record新增"}},[s._v("#")]),s._v(" record新增")]),s._v(" "),t("h4",{attrs:{id:"src-components-todo-vue-8"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#src-components-todo-vue-8"}},[s._v("#")]),s._v(" src/components/Todo.vue")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('<input type="text" v-model="text" placeholder=\'请输入\' @keyup.enter="onAdd" :disabled="todo.locked" />\n\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"record-删除-修改"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#record-删除-修改"}},[s._v("#")]),s._v(" record 删除/修改")]),s._v(" "),t("h4",{attrs:{id:"src-components-item-vue-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#src-components-item-vue-2"}},[s._v("#")]),s._v(" src/components/Item.vue")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('<template>\n    <div>\n        <div class="list-item editingClass editing" :class="{checked: item.checked}" v-if="item.isDelete != true">\n            \x3c!-- 最外层容器--\x3e\n            <label class="checkbox"> \x3c!--自定义的多选框--\x3e\n                <input type="checkbox" v-model="item.checked"> \x3c!--item.checked--\x3e\n                <span class="checkbox-custom"></span>\n            </label>\n            <input type="text" autofocus v-model.lazy="item.text" placeholder=\'写点什么。。。\' @change="onChange" :disabled="item.checked || locked">\n            \x3c!--绑定item.text--\x3e\n            <a class="delete-item" v-if="!(item.checked || locked)">\n                \x3c!--删除图标--\x3e\n                <span class="icon-trash" @click="deleteRecord"></span>\n            </a>\n        </div>\n    </div>\n</template>\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("h2",{attrs:{id:"vuex改造"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vuex改造"}},[s._v("#")]),s._v(" vuex改造")]),s._v(" "),t("p",[s._v("所有涉及到"),t("strong",[s._v("数据变化")]),s._v("的代码都可以用vuex来管理")]),s._v(" "),t("h3",{attrs:{id:"vuex指南"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vuex指南"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://vuex.vuejs.org/zh/guide/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Vuex指南"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("state")]),s._v(" "),t("p",[s._v("getters")]),s._v(" "),t("p",[s._v("mutations")]),s._v(" "),t("p",[s._v("actions")]),s._v(" "),t("p",[s._v("mapState")]),s._v(" "),t("p",[s._v("mapGetters")]),s._v(" "),t("p",[s._v("mapMutations")]),s._v(" "),t("p",[s._v("mapActions")]),s._v(" "),t("p",[s._v("module")]),s._v(" "),t("h2",{attrs:{id:"嵌套路由改造"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#嵌套路由改造"}},[s._v("#")]),s._v(" 嵌套路由改造")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/routing.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("vue 路由教程"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("原教程是使用嵌套路由来确定当前是激活状态的todo 的，本次使用vuex用变量标记当前激活todo。")])])}),[],!1,null,null,null);n.default=a.exports}}]);